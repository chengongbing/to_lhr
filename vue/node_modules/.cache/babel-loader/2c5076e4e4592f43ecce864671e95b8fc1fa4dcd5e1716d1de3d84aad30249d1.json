{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\nimport Layout from '@/layout/Layout'; // 引入 Layout 布局\n\n// 路由配置\nconst routes = [{\n  path: '/user',\n  name: 'Layout',\n  // Layout是父级路由\n  component: Layout,\n  children: [\n  // 子路由：用户相关页面\n  {\n    path: '/user',\n    name: 'User',\n    component: () => import('@/views/User')\n  },\n  // 通知\n  {\n    path: '/notifications',\n    name: 'Notifications',\n    component: () => import('@/views/Notifications')\n  },\n  // 求助页面\n  {\n    path: '/assistance',\n    name: 'Assistance',\n    component: () => import('@/views/Assistance')\n  }, {\n    path: '/assistance_yes',\n    name: 'AssistanceYes',\n    component: () => import('@/views/AssistanceYes')\n  }, {\n    path: '/assistance_no',\n    name: 'AssistanceNo',\n    component: () => import('@/views/AssistanceNo')\n  },\n  // 二手交易页面\n  {\n    path: '/secondhand',\n    name: 'SecondHand',\n    component: () => import('@/views/SecondHand')\n  }, {\n    path: '/secondhand_yes',\n    name: 'SecondHandYes',\n    component: () => import('@/views/SecondHandYes')\n  }, {\n    path: '/secondhand_no',\n    name: 'SecondHandNo',\n    component: () => import('@/views/SecondHandNo')\n  },\n  // 审计员页面\n  {\n    path: '/auditors',\n    name: 'Auditors',\n    component: () => import('@/views/Auditors')\n  },\n  // 学生页面\n  {\n    path: '/student',\n    name: 'Student',\n    component: () => import('@/views/Student')\n  }, {\n    path: '/student_no',\n    name: 'StudentNo',\n    component: () => import('@/views/StudentNo')\n  }, {\n    path: '/student_yes',\n    name: 'StudentYes',\n    component: () => import('@/views/StudentYes')\n  },\n  // 个人信息页面\n  {\n    path: '/personalInformation',\n    name: 'PersonalInformation',\n    component: () => import('@/views/PersonalInformation')\n  }]\n}, {\n  path: '/',\n  // 登录页\n  name: 'Login',\n  component: () => import('@/views/Login')\n}];\n\n// 创建路由实例\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n});\n\n// 路由守卫\nrouter.beforeEach((to, from, next) => {\n  // 获取用户选择的语言，如果没有设置则使用默认语言\n  const savedLanguage = localStorage.getItem(\"language\") || \"zh\"; // 默认语言为中文\n  if (savedLanguage !== router.app.$i18n.locale) {\n    // 更新语言设置\n    router.app.$i18n.locale = savedLanguage;\n  }\n\n  // 检查 sessionStorage 是否有 user 或者访问的是登录页\n  if (sessionStorage.getItem(\"user\") || to.path === '/') {\n    next(); // 继续访问\n  } else {\n    next('/'); // 未登录，强制跳转到登录页\n  }\n});\n\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","Layout","routes","path","name","component","children","router","history","process","env","BASE_URL","beforeEach","to","from","next","savedLanguage","localStorage","getItem","app","$i18n","locale","sessionStorage"],"sources":["G:/bs/to_LHR/springboot-vue-demo/vue/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router';\r\nimport Layout from '@/layout/Layout';  // 引入 Layout 布局\r\n\r\n// 路由配置\r\nconst routes = [\r\n  {\r\n    path: '/user',\r\n    name: 'Layout',  // Layout是父级路由\r\n    component: Layout,\r\n    children: [\r\n      // 子路由：用户相关页面\r\n      {\r\n        path: '/user',\r\n        name: 'User',\r\n        component: () => import('@/views/User')\r\n      },\r\n      // 通知\r\n      {\r\n        path: '/notifications',\r\n        name: 'Notifications',\r\n        component: () => import('@/views/Notifications')\r\n      },\r\n      // 求助页面\r\n      {\r\n        path: '/assistance',\r\n        name: 'Assistance',\r\n        component: () => import('@/views/Assistance')\r\n      },\r\n      {\r\n        path: '/assistance_yes',\r\n        name: 'AssistanceYes',\r\n        component: () => import('@/views/AssistanceYes')\r\n      },\r\n      {\r\n        path: '/assistance_no',\r\n        name: 'AssistanceNo',\r\n        component: () => import('@/views/AssistanceNo')\r\n      },\r\n      // 二手交易页面\r\n      {\r\n        path: '/secondhand',\r\n        name: 'SecondHand',\r\n        component: () => import('@/views/SecondHand')\r\n      },\r\n      {\r\n        path: '/secondhand_yes',\r\n        name: 'SecondHandYes',\r\n        component: () => import('@/views/SecondHandYes')\r\n      },\r\n      {\r\n        path: '/secondhand_no',\r\n        name: 'SecondHandNo',\r\n        component: () => import('@/views/SecondHandNo')\r\n      },\r\n      // 审计员页面\r\n      {\r\n        path: '/auditors',\r\n        name: 'Auditors',\r\n        component: () => import('@/views/Auditors')\r\n      },\r\n      // 学生页面\r\n      {\r\n        path: '/student',\r\n        name: 'Student',\r\n        component: () => import('@/views/Student')\r\n      },\r\n      {\r\n        path: '/student_no',\r\n        name: 'StudentNo',\r\n        component: () => import('@/views/StudentNo')\r\n      },\r\n      {\r\n        path: '/student_yes',\r\n        name: 'StudentYes',\r\n        component: () => import('@/views/StudentYes')\r\n      },\r\n      // 个人信息页面\r\n      {\r\n        path: '/personalInformation',\r\n        name: 'PersonalInformation',\r\n        component: () => import('@/views/PersonalInformation')\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: '/', // 登录页\r\n    name: 'Login',\r\n    component: () => import('@/views/Login')\r\n  }\r\n];\r\n\r\n// 创建路由实例\r\nconst router = createRouter({\r\n  history: createWebHistory(process.env.BASE_URL),\r\n  routes\r\n});\r\n\r\n// 路由守卫\r\nrouter.beforeEach((to, from, next) => {\r\n  // 获取用户选择的语言，如果没有设置则使用默认语言\r\n  const savedLanguage = localStorage.getItem(\"language\") || \"zh\";  // 默认语言为中文\r\n  if (savedLanguage !== router.app.$i18n.locale) {\r\n    // 更新语言设置\r\n    router.app.$i18n.locale = savedLanguage;\r\n  }\r\n\r\n  // 检查 sessionStorage 是否有 user 或者访问的是登录页\r\n  if (sessionStorage.getItem(\"user\") || to.path === '/') {\r\n    next();  // 继续访问\r\n  } else {\r\n    next('/');  // 未登录，强制跳转到登录页\r\n  }\r\n});\r\n\r\nexport default router;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
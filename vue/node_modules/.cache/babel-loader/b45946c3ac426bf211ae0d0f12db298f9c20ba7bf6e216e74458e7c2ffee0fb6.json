{"ast":null,"code":"import Vue from \"vue\";\nimport VueI18n from \"vue-i18n\";\nimport en from \"./locales/en\";\nimport zh from \"./locales/zh\";\nimport enElement from 'element-plus/lib/locale/lang/en';\nimport zhElement from 'element-plus/lib/locale/lang/zh-cn';\nVue.use(VueI18n);\n\n// 获取用户浏览器默认语言\nconst getBrowserLanguage = () => {\n  const lang = navigator.language || navigator.userLanguage;\n  return lang.startsWith(\"zh\") ? \"zh\" : \"en\"; // 仅支持中英文\n};\n\n// 从 localStorage 获取用户语言偏好，如果没有则使用浏览器默认语言\nconst savedLanguage = localStorage.getItem(\"language\") || getBrowserLanguage();\nconst i18n = new VueI18n({\n  locale: savedLanguage,\n  // 设置默认语言\n  fallbackLocale: \"zh\",\n  // 备用语言\n  messages: {\n    en: {\n      ...en,\n      ...enElement\n    },\n    zh: {\n      ...zh,\n      ...zhElement\n    }\n  }\n});\nexport default i18n;","map":{"version":3,"names":["Vue","VueI18n","en","zh","enElement","zhElement","use","getBrowserLanguage","lang","navigator","language","userLanguage","startsWith","savedLanguage","localStorage","getItem","i18n","locale","fallbackLocale","messages"],"sources":["G:/bs/to_LHR/springboot-vue-demo/vue/src/i18n.js"],"sourcesContent":["import Vue from \"vue\";\r\nimport VueI18n from \"vue-i18n\";\r\nimport en from \"./locales/en\";\r\nimport zh from \"./locales/zh\";\r\nimport enElement from 'element-plus/lib/locale/lang/en';\r\nimport zhElement from 'element-plus/lib/locale/lang/zh-cn';\r\n\r\n\r\nVue.use(VueI18n);\r\n\r\n// 获取用户浏览器默认语言\r\nconst getBrowserLanguage = () => {\r\n    const lang = navigator.language || navigator.userLanguage;\r\n    return lang.startsWith(\"zh\") ? \"zh\" : \"en\"; // 仅支持中英文\r\n};\r\n\r\n// 从 localStorage 获取用户语言偏好，如果没有则使用浏览器默认语言\r\nconst savedLanguage = localStorage.getItem(\"language\") || getBrowserLanguage();\r\n\r\nconst i18n = new VueI18n({\r\n    locale: savedLanguage, // 设置默认语言\r\n    fallbackLocale: \"zh\", // 备用语言\r\n    messages: {\r\n        en: { ...en, ...enElement },\r\n        zh: { ...zh, ...zhElement }\r\n    }\r\n});\r\n\r\nexport default i18n;\r\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,OAAO,MAAM,UAAU;AAC9B,OAAOC,EAAE,MAAM,cAAc;AAC7B,OAAOC,EAAE,MAAM,cAAc;AAC7B,OAAOC,SAAS,MAAM,iCAAiC;AACvD,OAAOC,SAAS,MAAM,oCAAoC;AAG1DL,GAAG,CAACM,GAAG,CAACL,OAAO,CAAC;;AAEhB;AACA,MAAMM,kBAAkB,GAAGA,CAAA,KAAM;EAC7B,MAAMC,IAAI,GAAGC,SAAS,CAACC,QAAQ,IAAID,SAAS,CAACE,YAAY;EACzD,OAAOH,IAAI,CAACI,UAAU,CAAC,IAAI,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC;AAChD,CAAC;;AAED;AACA,MAAMC,aAAa,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,IAAIR,kBAAkB,EAAE;AAE9E,MAAMS,IAAI,GAAG,IAAIf,OAAO,CAAC;EACrBgB,MAAM,EAAEJ,aAAa;EAAE;EACvBK,cAAc,EAAE,IAAI;EAAE;EACtBC,QAAQ,EAAE;IACNjB,EAAE,EAAE;MAAE,GAAGA,EAAE;MAAE,GAAGE;IAAU,CAAC;IAC3BD,EAAE,EAAE;MAAE,GAAGA,EAAE;MAAE,GAAGE;IAAU;EAC9B;AACJ,CAAC,CAAC;AAEF,eAAeW,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}
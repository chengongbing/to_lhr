{"ast":null,"code":"import { ElForm, ElFormItem, ElInput, ElButton, ElMessage } from 'element-plus';\nimport { Avatar, Lock } from '@element-plus/icons-vue';\nimport request from '@/utils/request';\nexport default {\n  name: 'PersonalInformation',\n  components: {},\n  created() {\n    let userStr = sessionStorage.getItem(\"user\") || \"{}\";\n    this.tableData = JSON.parse(userStr);\n    // console.log(this.tableData)\n    // console.log(this.tableData)\n    request.get(\"/auditors/\" + this.tableData.id).then(res => {\n      if (res.code == \"0\") {\n        this.user = res.data;\n      }\n    });\n  },\n  data() {\n    return {\n      user: {},\n      dialogVisible: false //弹窗\n    };\n  },\n\n  methods: {\n    edit() {\n      this.dialogVisible = true;\n    },\n    save() {\n      request.put(\"/auditors\", this.user).then(res => {\n        console.log(res);\n        if (res.code == '0') {\n          this.$message({\n            type: \"success\",\n            message: \"更新成功\"\n          });\n        } else {\n          this.$message({\n            type: \"error\",\n            message: res.msg\n          });\n        }\n        this.dialogVisible = false;\n      });\n    }\n  }\n};","map":{"version":3,"names":["ElForm","ElFormItem","ElInput","ElButton","ElMessage","Avatar","Lock","request","name","components","created","userStr","sessionStorage","getItem","tableData","JSON","parse","get","id","then","res","code","user","data","dialogVisible","methods","edit","save","put","console","log","$message","type","message","msg"],"sources":["E:\\bs\\SpringBoot+Vue\\springboot-vue-demo\\vue\\src\\views\\PersonalInformation.vue"],"sourcesContent":["<template>\r\n  <div class=\"table-wrapper\">\r\n    <table  ref=\"table\">\r\n      <tr>\r\n        <td>账号:</td>\r\n        <td>{{ user.account }}</td>\r\n      </tr>\r\n      <tr>\r\n        <td>用户名:</td>\r\n        <td>{{ user.username }}</td>\r\n      </tr>\r\n      <tr>\r\n        <td>密码:</td>\r\n        <td>******</td>\r\n      </tr>\r\n      <tr>\r\n        <td>电话:</td>\r\n        <td>{{ user.phone }}</td>\r\n      </tr>\r\n      <tr>\r\n        <td colspan=\"2\"><el-button type=\"primary\" @click=\"edit\">编辑</el-button></td>\r\n      </tr>\r\n    </table>\r\n    <el-dialog\r\n        v-model=\"dialogVisible\"\r\n        title=\"新增\"\r\n        width=\"30%\"\r\n    >\r\n      <el-form :model=\"user\" label-width=\"120px\">\r\n        <el-form-item label=\"账号\">\r\n        <el-input v-model=\"user.account\" style=\"width: 80%\" disabled></el-input>\r\n      </el-form-item>\r\n        <el-form-item label=\"用户名\">\r\n          <el-input v-model=\"user.username\" style=\"width: 80%\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\">\r\n          <el-input v-model=\"user.password\" style=\"width: 80%\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"电话\">\r\n          <el-input v-model=\"user.phone\" style=\"width: 80%\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <template #footer>\r\n      <span class=\"dialog-footer\">\r\n        <el-button @click=\"dialogVisible = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"save\">\r\n          确认\r\n        </el-button>\r\n      </span>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport {ElForm, ElFormItem, ElInput, ElButton, ElMessage} from 'element-plus';\r\nimport {Avatar, Lock} from '@element-plus/icons-vue';\r\nimport request from '@/utils/request';\r\n\r\nexport default {\r\n  name: 'PersonalInformation',\r\n  components: {},\r\n  created() {\r\n    let userStr = sessionStorage.getItem(\"user\") || \"{}\"\r\n    this.tableData = JSON.parse(userStr)\r\n    // console.log(this.tableData)\r\n    // console.log(this.tableData)\r\n    request.get(\"/auditors/\"+this.tableData.id).then(res => {\r\n      if(res.code==\"0\")\r\n      {\r\n        this.user=res.data\r\n      }\r\n    })\r\n  },\r\n  data() {\r\n    return {\r\n      user:{},\r\n      dialogVisible:false,//弹窗\r\n    };\r\n  },\r\n  methods: {\r\n    edit(){\r\n    this.dialogVisible=true\r\n    },\r\n    save(){\r\n        request.put(\"/auditors\",this.user).then(res => {\r\n          console.log(res)\r\n          if(res.code=='0'){\r\n            this.$message({\r\n              type:\"success\",\r\n              message:\"更新成功\"\r\n            })\r\n          }else {\r\n            this.$message({\r\n              type:\"error\",\r\n              message:res.msg\r\n            })\r\n          }\r\n          this.dialogVisible=false\r\n        })\r\n      }\r\n\r\n  },\r\n\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.table-wrapper {\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\ntable {\r\n  border-collapse: collapse;\r\n  background-color: #fafafa;\r\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);\r\n  min-width: 350px;\r\n  margin-left: 400px;\r\n  margin-top: 200px;\r\n\r\n}\r\n\r\nth {\r\n  background-color: #f2f2f2;\r\n  color: #333;\r\n  font-weight: bold;\r\n  text-align: left;\r\n  padding: 10px;\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n\r\ntd {\r\n  padding: 10px;\r\n  border-bottom: 1px solid #ddd;\r\n  text-align: center;\r\n}\r\n\r\ntr:last-child td {\r\n  border-bottom: none;\r\n}\r\n</style>"],"mappings":"AAwDA,SAAQA,MAAM,EAAEC,UAAU,EAAEC,OAAO,EAAEC,QAAQ,EAAEC,SAAS,QAAO,cAAc;AAC7E,SAAQC,MAAM,EAAEC,IAAI,QAAO,yBAAyB;AACpD,OAAOC,OAAM,MAAO,iBAAiB;AAErC,eAAe;EACbC,IAAI,EAAE,qBAAqB;EAC3BC,UAAU,EAAE,CAAC,CAAC;EACdC,OAAOA,CAAA,EAAG;IACR,IAAIC,OAAM,GAAIC,cAAc,CAACC,OAAO,CAAC,MAAM,KAAK,IAAG;IACnD,IAAI,CAACC,SAAQ,GAAIC,IAAI,CAACC,KAAK,CAACL,OAAO;IACnC;IACA;IACAJ,OAAO,CAACU,GAAG,CAAC,YAAY,GAAC,IAAI,CAACH,SAAS,CAACI,EAAE,CAAC,CAACC,IAAI,CAACC,GAAE,IAAK;MACtD,IAAGA,GAAG,CAACC,IAAI,IAAE,GAAG,EAChB;QACE,IAAI,CAACC,IAAI,GAACF,GAAG,CAACG,IAAG;MACnB;IACF,CAAC;EACH,CAAC;EACDA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLD,IAAI,EAAC,CAAC,CAAC;MACPE,aAAa,EAAC,KAAK,CAAC;IACtB,CAAC;EACH,CAAC;;EACDC,OAAO,EAAE;IACPC,IAAIA,CAAA,EAAE;MACN,IAAI,CAACF,aAAa,GAAC,IAAG;IACtB,CAAC;IACDG,IAAIA,CAAA,EAAE;MACFpB,OAAO,CAACqB,GAAG,CAAC,WAAW,EAAC,IAAI,CAACN,IAAI,CAAC,CAACH,IAAI,CAACC,GAAE,IAAK;QAC7CS,OAAO,CAACC,GAAG,CAACV,GAAG;QACf,IAAGA,GAAG,CAACC,IAAI,IAAE,GAAG,EAAC;UACf,IAAI,CAACU,QAAQ,CAAC;YACZC,IAAI,EAAC,SAAS;YACdC,OAAO,EAAC;UACV,CAAC;QACH,CAAC,MAAK;UACJ,IAAI,CAACF,QAAQ,CAAC;YACZC,IAAI,EAAC,OAAO;YACZC,OAAO,EAACb,GAAG,CAACc;UACd,CAAC;QACH;QACA,IAAI,CAACV,aAAa,GAAC,KAAI;MACzB,CAAC;IACH;EAEJ;AAEF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}